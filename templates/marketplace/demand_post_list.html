{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "Demand Posts" %}{% endblock %}

{% block content %}
<h1>{% trans "Your Demand Posts" %}</h1>
{% if page_obj %}
<div class="card-grid">
    {% for post in page_obj %}
    <a href="{% url 'marketplace:demand_post_detail' post.pk %}" class="tile">
        <div class="tile-title">{% trans "Looking for:" %} {{ post.item_text }}</div>
        <span class="status status-{{ post.status }}">{{ post.get_status_display }}</span>
        {% if post.quantity_value %}<div class="tile-meta">{{ post.quantity_value }} {{ post.get_quantity_unit_display }}</div>{% endif %}
        {% if post.category %}<div class="tile-meta">{{ post.get_category_display }}</div>{% endif %}
        <div class="tile-meta">{{ post.get_location_country_display|default:post.location_country }}{% if post.location_locality %}, {{ post.location_locality }}{% endif %}</div>
    </a>
    {% endfor %}
</div>
{% include "includes/_pagination.html" %}
{% else %}
<p class="empty-state">{% trans "No demand posts yet." %}</p>
{% endif %}
<div class="actions">
    <a href="{% url 'marketplace:demand_post_create' %}" class="btn btn-primary">{% trans "Create new" %}</a>
</div>
{% endblock %}
