{% extends "base.html" %}
{% load i18n %}

{% block title %}{{ post.item_text }}{% endblock %}

{% block content %}
<h1>{{ post.item_text }}</h1>
<dl>
    <dt>{% trans "Status" %}</dt><dd>{{ post.get_status_display }}</dd>
    <dt>{% trans "Category" %}</dt><dd>{{ post.get_category_display|default:"-" }}</dd>
    <dt>{% trans "Quantity" %}</dt><dd>{{ post.quantity_value|default:"-" }} {{ post.quantity_unit }}</dd>
    <dt>{% trans "Cadence" %}</dt><dd>{{ post.get_cadence_display }}</dd>
    <dt>{% trans "Location" %}</dt><dd>{{ post.location_country }}{% if post.location_locality %}, {{ post.location_locality }}{% endif %}</dd>
    <dt>{% trans "Shipping allowed" %}</dt><dd>{{ post.shipping_allowed|yesno }}</dd>
    {% if post.notes %}<dt>{% trans "Notes" %}</dt><dd>{{ post.notes }}</dd>{% endif %}
</dl>

{% if post.status == "active" or post.status == "paused" %}
<form method="post" action="{% url 'marketplace:demand_post_toggle' post.pk %}">
    {% csrf_token %}
    {% if post.status == "active" %}
    <button type="submit">{% trans "Pause" %}</button>
    {% else %}
    <button type="submit">{% trans "Resume" %}</button>
    {% endif %}
</form>
{% endif %}

<a href="{% url 'marketplace:demand_post_list' %}">{% trans "Back to list" %}</a>
{% endblock %}
